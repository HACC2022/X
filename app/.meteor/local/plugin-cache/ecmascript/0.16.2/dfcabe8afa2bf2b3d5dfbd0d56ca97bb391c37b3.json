{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app\\packages\\montiapm:agent\\lib\\common\\utils.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.windows.x86_64"},"sourceFileName":"packages/montiapm:agent/lib/common/utils.js","filename":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app\\packages\\montiapm:agent\\lib\\common\\utils.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app","root":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app\\packages\\montiapm:agent\\lib\\common\\utils.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/montiapm:agent/lib/common/utils.js"}},"code":"module.export({\n  getErrorParameters: () => getErrorParameters\n});\n\ngetClientArchVersion = function (arch) {\n  const autoupdate = __meteor_runtime_config__.autoupdate;\n\n  if (autoupdate) {\n    return autoupdate.versions[arch] ? autoupdate.versions[arch].version : 'none';\n  } // Meteor 1.7 and older did not have an `autoupdate` object.\n\n\n  switch (arch) {\n    case 'cordova.web':\n      return __meteor_runtime_config__.autoupdateVersionCordova;\n\n    case 'web.browser':\n    case 'web.browser.legacy':\n      // Meteor 1.7 always used the web.browser.legacy version\n      return __meteor_runtime_config__.autoupdateVersion;\n\n    default:\n      return 'none';\n  }\n};\n\nconst createStackTrace = () => {\n  if (Error.captureStackTrace) {\n    let err = {};\n    Error.captureStackTrace(err, Kadira.trackError);\n    return err.stack;\n  }\n\n  const stack = new Error().stack.split('\\n');\n  let toRemove = 0; // Remove frames starting from when trackError was called\n\n  for (; toRemove < stack.length; toRemove++) {\n    if (stack[toRemove].indexOf('trackError') > -1) {\n      toRemove += 1;\n      break;\n    }\n  }\n\n  return stack.slice(toRemove).join('\\n');\n};\n\nconst getErrorParameters = function (args) {\n  let type = null;\n  let message = null;\n  let subType = null;\n  let stack = null;\n\n  if (!(args[0] instanceof Error) && typeof args[0] === 'string' && typeof args[1] === 'string') {\n    // Old usage:\n    // Monti.trackError(\n    //   'type', 'error message', { stacks: 'error stack', subType: 'sub type }\n    // );\n    const options = args[2] || {};\n    type = args[0];\n    subType = Meteor.isClient ? args[0] : options.subType;\n    message = args[1];\n    stack = options.stacks || createStackTrace();\n  } else {\n    // New usage:\n    // Monti.trackError(error, { type: 'type', subType: 'subType' });\n    const error = args[0];\n    const options = args[1] || {};\n    const isErrorObject = typeof error === 'object' && error !== null;\n    message = isErrorObject ? error.message : error;\n    stack = isErrorObject && error.stack || createStackTrace();\n    type = options.type;\n    subType = options.subType;\n  }\n\n  return {\n    type,\n    message,\n    subType,\n    stack\n  };\n};","map":{"version":3,"sources":["packages/montiapm:agent/lib/common/utils.js"],"names":["module","export","getErrorParameters","getClientArchVersion","arch","autoupdate","__meteor_runtime_config__","versions","version","autoupdateVersionCordova","autoupdateVersion","createStackTrace","Error","captureStackTrace","err","Kadira","trackError","stack","split","toRemove","length","indexOf","slice","join","args","type","message","subType","options","Meteor","isClient","stacks","error","isErrorObject"],"mappings":"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","sourcesContent":["getClientArchVersion = function (arch) {\n  const autoupdate = __meteor_runtime_config__.autoupdate\n\n  if (autoupdate) {\n    return autoupdate.versions[arch] ? autoupdate.versions[arch].version : 'none';\n  }\n\n  // Meteor 1.7 and older did not have an `autoupdate` object.\n  switch (arch) {\n    case 'cordova.web':\n      return __meteor_runtime_config__.autoupdateVersionCordova;\n    case 'web.browser':\n    case 'web.browser.legacy':\n      // Meteor 1.7 always used the web.browser.legacy version\n      return __meteor_runtime_config__.autoupdateVersion;\n\n    default:\n      return 'none';\n  }\n}\n\nconst createStackTrace = () => {\n  if (Error.captureStackTrace) {\n    let err = {};\n    Error.captureStackTrace(err, Kadira.trackError);\n    return err.stack;\n  }\n\n  const stack = new Error().stack.split('\\n');\n  let toRemove = 0;\n\n  // Remove frames starting from when trackError was called\n  for (; toRemove < stack.length; toRemove++) {\n    if (stack[toRemove].indexOf('trackError') > -1) {\n      toRemove += 1;\n      break;\n    }\n  }\n\n  return stack.slice(toRemove).join('\\n');\n}\n\nexport const getErrorParameters = function (args) {\n  let type = null;\n  let message = null;\n  let subType = null;\n  let stack = null;\n\n  if (\n    !(args[0] instanceof Error) &&\n    typeof args[0] === 'string' &&\n    typeof args[1] === 'string'\n  ) {\n    // Old usage:\n    // Monti.trackError(\n    //   'type', 'error message', { stacks: 'error stack', subType: 'sub type }\n    // );\n\n    const options = args[2] || {};\n\n    type = args[0];\n    subType = Meteor.isClient? args[0] : options.subType;\n    message = args[1];\n    stack = options.stacks || createStackTrace();\n\n  } else {\n    // New usage:\n    // Monti.trackError(error, { type: 'type', subType: 'subType' });\n    const error = args[0];\n    const options = args[1] || {};\n    const isErrorObject = typeof error === 'object' && error !== null\n    \n    message = isErrorObject ? error.message : error;\n    stack = isErrorObject && error.stack || createStackTrace();\n    type = options.type;\n    subType = options.subType;\n  }\n\n  return { type, message, subType, stack }\n}\n"]},"sourceType":"module","externalDependencies":{},"hash":"dfcabe8afa2bf2b3d5dfbd0d56ca97bb391c37b3"}
