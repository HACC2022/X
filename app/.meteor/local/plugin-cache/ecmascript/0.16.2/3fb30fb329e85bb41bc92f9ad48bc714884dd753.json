{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app\\imports\\ui\\pages\\SignUp.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/ui/pages/SignUp.jsx","filename":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app\\imports\\ui\\pages\\SignUp.jsx","inputSourceMap":{"version":3,"sources":["imports/ui/pages/SignUp.jsx"],"names":["React","useState","PropTypes","Link","Navigate","Accounts","Alert","Card","Col","Container","Row","SimpleSchema","SimpleSchema2Bridge","AutoForm","ErrorsField","SubmitField","TextField","SignUp","location","error","setError","redirectToReferer","setRedirectToRef","schema","email","String","password","bridge","submit","doc","createUser","username","err","reason","from","state","pathname","data","propTypes","shape","string","defaultProps"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,GAAtB,EAA2BC,SAA3B,EAAsCC,GAAtC,QAAiD,iBAAjD;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,OAAOC,mBAAP,MAAgC,iCAAhC;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,WAAhC,EAA6CC,SAA7C,QAA8D,qBAA9D;AAEA;AACA;AACA;;AACA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC/B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACoB,iBAAD,EAAoBC,gBAApB,IAAwCrB,QAAQ,CAAC,KAAD,CAAtD;AAEA,QAAMsB,MAAM,GAAG,IAAIZ,YAAJ,CAAiB;AAC9Ba,IAAAA,KAAK,EAAEC,MADuB;AAE9BC,IAAAA,QAAQ,EAAED;AAFoB,GAAjB,CAAf;AAIA,QAAME,MAAM,GAAG,IAAIf,mBAAJ,CAAwBW,MAAxB,CAAf;AAEA;;AACA,QAAMK,MAAM,GAAIC,GAAD,IAAS;AACtB,UAAM;AAAEL,MAAAA,KAAF;AAASE,MAAAA;AAAT,QAAsBG,GAA5B;AACAxB,IAAAA,QAAQ,CAACyB,UAAT,CAAoB;AAAEN,MAAAA,KAAF;AAASO,MAAAA,QAAQ,EAAEP,KAAnB;AAA0BE,MAAAA;AAA1B,KAApB,EAA2DM,GAAD,IAAS;AACjE,UAAIA,GAAJ,EAAS;AACPZ,QAAAA,QAAQ,CAACY,GAAG,CAACC,MAAL,CAAR;AACD,OAFD,MAEO;AACLb,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;AACF,KAPD;AAQD,GAVD;AAYA;;;AACA,QAAM;AAAEY,IAAAA;AAAF,MAAWhB,QAAQ,EAAEiB,KAAV,IAAmB;AAAED,IAAAA,IAAI,EAAE;AAAEE,MAAAA,QAAQ,EAAE;AAAZ;AAAR,GAApC,CAxB+B,CAyB/B;;AACA,MAAIf,iBAAJ,EAAuB;AACrB,WAAO,CAAC,QAAD,CAAU,GAAG,CAACa,IAAD,CAAb,GAAP;AACD;;AACD,SACE,CAAC,SAAD,CAAW,GAAG,aAAd,CAA4B,UAAU,MAAtC,CAA6C;AACjD,MAAM,CAAC,GAAD,CAAK,UAAU,wBAAf,CAAwC;AAC9C,QAAQ,CAAC,GAAD,CAAK,GAAG,CAAC,CAAD,CAAR,CAAY;AACpB,UAAU,CAAC,GAAD,CAAK,UAAU,aAAf,CAA6B;AACvC,YAAY,CAAC,EAAD,CAAI,qBAAqB,EAAE,EAAF,CAAK;AAC1C,UAAU,EAAE,GAAF,CAAM;AAChB,UAAU,CAAC,QAAD,CAAU,OAAO,CAACP,MAAD,CAAjB,CAA0B,SAAS,CAACU,IAAI,IAAIT,MAAM,CAACS,IAAD,CAAf,CAAnC,CAA0D;AACpE,YAAY,CAAC,IAAD,CAAM;AAClB,cAAc,CAAC,KAAK,IAAN,CAAW;AACzB,gBAAgB,CAAC,SAAD,CAAW,KAAK,OAAhB,CAAwB,YAAY,gBAApC,GAAuD;AACvE,gBAAgB,CAAC,SAAD,CAAW,KAAK,UAAhB,CAA2B,YAAY,UAAvC,CAAkD,KAAK,UAAvD,GAAoE;AACpF,gBAAgB,CAAC,WAAD,GAAe;AAC/B,gBAAgB,CAAC,WAAD,GAAe;AAC/B,cAAc,EAAE,KAAK,IAAP,CAAY;AAC1B,YAAY,EAAE,IAAF,CAAO;AACnB,UAAU,EAAE,QAAF,CAAW;AACrB,UAAU,CAAC,KAAD,CAAO,QAAQ,OAAf,CAAuB;AACjC;AACA,YAAY,CAAC,GAAD,CAAK;AACjB,YAAY,CAAC,IAAD,CAAM,GAAG,SAAT,CAAmB,IAAI,EAAE,IAAF,CAAO;AAC1C,UAAU,EAAE,KAAF,CAAQ;AAClB,UAAU,CAAClB,KAAK,KAAK,EAAV,GACC,EADD,GAGC,CAAC,KAAD,CAAO,QAAQ,QAAf,CAAwB;AACpC,cAAc,CAAC,MAAM,OAAP,CAAe,+BAA+B,EAAE,MAAM,OAAR,CAAgB;AAC5E,cAAc,CAACA,KAAD,CAAO;AACrB,YAAY,EAAE,KAAF,CANF,CAOE;AACZ,QAAQ,EAAE,GAAF,CAAM;AACd,MAAM,EAAE,GAAF,CAAM;AACZ,IAAI,EAAE,SAAF,CAhCF;AAkCD,CA/DD;AAiEA;;;GAjEMF,M;;KAAAA,M;AAkENA,MAAM,CAACqB,SAAP,GAAmB;AACjBpB,EAAAA,QAAQ,EAAEhB,SAAS,CAACqC,KAAV,CAAgB;AACxBJ,IAAAA,KAAK,EAAEjC,SAAS,CAACsC;AADO,GAAhB;AADO,CAAnB;AAMAvB,MAAM,CAACwB,YAAP,GAAsB;AACpBvB,EAAAA,QAAQ,EAAE;AAAEiB,IAAAA,KAAK,EAAE;AAAT;AADU,CAAtB;AAIA,eAAelB,MAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport { Accounts } from 'meteor/accounts-base';\r\nimport { Alert, Card, Col, Container, Row } from 'react-bootstrap';\r\nimport SimpleSchema from 'simpl-schema';\r\nimport SimpleSchema2Bridge from 'uniforms-bridge-simple-schema-2';\r\nimport { AutoForm, ErrorsField, SubmitField, TextField } from 'uniforms-bootstrap5';\r\n\r\n/**\r\n * SignUp component is similar to signin component, but we create a new user instead.\r\n */\r\nconst SignUp = ({ location }) => {\r\n  const [error, setError] = useState('');\r\n  const [redirectToReferer, setRedirectToRef] = useState(false);\r\n\r\n  const schema = new SimpleSchema({\r\n    email: String,\r\n    password: String,\r\n  });\r\n  const bridge = new SimpleSchema2Bridge(schema);\r\n\r\n  /* Handle SignUp submission. Create user account and a profile entry, then redirect to the home page. */\r\n  const submit = (doc) => {\r\n    const { email, password } = doc;\r\n    Accounts.createUser({ email, username: email, password }, (err) => {\r\n      if (err) {\r\n        setError(err.reason);\r\n      } else {\r\n        setError('');\r\n        setRedirectToRef(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  /* Display the signup form. Redirect to add page after successful registration and login. */\r\n  const { from } = location?.state || { from: { pathname: '/add' } };\r\n  // if correct authentication, redirect to from: page instead of signup screen\r\n  if (redirectToReferer) {\r\n    return <Navigate to={from} />;\r\n  }\r\n  return (\r\n    <Container id=\"signup-page\" className=\"py-3\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col xs={5}>\r\n          <Col className=\"text-center\">\r\n            <h2>Register your account</h2>\r\n          </Col>\r\n          <AutoForm schema={bridge} onSubmit={data => submit(data)}>\r\n            <Card>\r\n              <Card.Body>\r\n                <TextField name=\"email\" placeholder=\"E-mail address\" />\r\n                <TextField name=\"password\" placeholder=\"Password\" type=\"password\" />\r\n                <ErrorsField />\r\n                <SubmitField />\r\n              </Card.Body>\r\n            </Card>\r\n          </AutoForm>\r\n          <Alert variant=\"light\">\r\n            Already have an account? Login\r\n            {' '}\r\n            <Link to=\"/signin\">here</Link>\r\n          </Alert>\r\n          {error === '' ? (\r\n            ''\r\n          ) : (\r\n            <Alert variant=\"danger\">\r\n              <Alert.Heading>Registration was not successful</Alert.Heading>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\n/* Ensure that the React Router location object is available in case we need to redirect. */\r\nSignUp.propTypes = {\r\n  location: PropTypes.shape({\r\n    state: PropTypes.string,\r\n  }),\r\n};\r\n\r\nSignUp.defaultProps = {\r\n  location: { state: '' },\r\n};\r\n\r\nexport default SignUp;\r\n"]},"targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app","root":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app\\imports\\ui\\pages\\SignUp.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/pages/SignUp.jsx"}},"code":"!function (module1) {\n  let React, useState;\n  module1.link(\"react\", {\n    default(v) {\n      React = v;\n    },\n\n    useState(v) {\n      useState = v;\n    }\n\n  }, 0);\n  let PropTypes;\n  module1.link(\"prop-types\", {\n    default(v) {\n      PropTypes = v;\n    }\n\n  }, 1);\n  let Link, Navigate;\n  module1.link(\"react-router-dom\", {\n    Link(v) {\n      Link = v;\n    },\n\n    Navigate(v) {\n      Navigate = v;\n    }\n\n  }, 2);\n  let Accounts;\n  module1.link(\"meteor/accounts-base\", {\n    Accounts(v) {\n      Accounts = v;\n    }\n\n  }, 3);\n  let Alert, Card, Col, Container, Row;\n  module1.link(\"react-bootstrap\", {\n    Alert(v) {\n      Alert = v;\n    },\n\n    Card(v) {\n      Card = v;\n    },\n\n    Col(v) {\n      Col = v;\n    },\n\n    Container(v) {\n      Container = v;\n    },\n\n    Row(v) {\n      Row = v;\n    }\n\n  }, 4);\n  let SimpleSchema;\n  module1.link(\"simpl-schema\", {\n    default(v) {\n      SimpleSchema = v;\n    }\n\n  }, 5);\n  let SimpleSchema2Bridge;\n  module1.link(\"uniforms-bridge-simple-schema-2\", {\n    default(v) {\n      SimpleSchema2Bridge = v;\n    }\n\n  }, 6);\n  let AutoForm, ErrorsField, SubmitField, TextField;\n  module1.link(\"uniforms-bootstrap5\", {\n    AutoForm(v) {\n      AutoForm = v;\n    },\n\n    ErrorsField(v) {\n      ErrorsField = v;\n    },\n\n    SubmitField(v) {\n      SubmitField = v;\n    },\n\n    TextField(v) {\n      TextField = v;\n    }\n\n  }, 7);\n\n  ___INIT_METEOR_FAST_REFRESH(module);\n\n  var _s = $RefreshSig$();\n\n  /**\r\n   * SignUp component is similar to signin component, but we create a new user instead.\r\n   */\n  const SignUp = _ref => {\n    let {\n      location\n    } = _ref;\n\n    _s();\n\n    const [error, setError] = useState('');\n    const [redirectToReferer, setRedirectToRef] = useState(false);\n    const schema = new SimpleSchema({\n      email: String,\n      password: String\n    });\n    const bridge = new SimpleSchema2Bridge(schema);\n    /* Handle SignUp submission. Create user account and a profile entry, then redirect to the home page. */\n\n    const submit = doc => {\n      const {\n        email,\n        password\n      } = doc;\n      Accounts.createUser({\n        email,\n        username: email,\n        password\n      }, err => {\n        if (err) {\n          setError(err.reason);\n        } else {\n          setError('');\n          setRedirectToRef(true);\n        }\n      });\n    };\n    /* Display the signup form. Redirect to add page after successful registration and login. */\n\n\n    const {\n      from\n    } = (location === null || location === void 0 ? void 0 : location.state) || {\n      from: {\n        pathname: '/add'\n      }\n    }; // if correct authentication, redirect to from: page instead of signup screen\n\n    if (redirectToReferer) {\n      return /*#__PURE__*/React.createElement(Navigate, {\n        to: from\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Container, {\n      id: \"signup-page\",\n      className: \"py-3\"\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\"\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 5\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"text-center\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Register your account\")), /*#__PURE__*/React.createElement(AutoForm, {\n      schema: bridge,\n      onSubmit: data => submit(data)\n    }, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Card.Body, null, /*#__PURE__*/React.createElement(TextField, {\n      name: \"email\",\n      placeholder: \"E-mail address\"\n    }), /*#__PURE__*/React.createElement(TextField, {\n      name: \"password\",\n      placeholder: \"Password\",\n      type: \"password\"\n    }), /*#__PURE__*/React.createElement(ErrorsField, null), /*#__PURE__*/React.createElement(SubmitField, null)))), /*#__PURE__*/React.createElement(Alert, {\n      variant: \"light\"\n    }, \"Already have an account? Login\", ' ', /*#__PURE__*/React.createElement(Link, {\n      to: \"/signin\"\n    }, \"here\")), error === '' ? '' : /*#__PURE__*/React.createElement(Alert, {\n      variant: \"danger\"\n    }, /*#__PURE__*/React.createElement(Alert.Heading, null, \"Registration was not successful\"), error))));\n  };\n  /* Ensure that the React Router location object is available in case we need to redirect. */\n\n\n  _s(SignUp, \"wspvmSiFhlGWaCirMzhbx5Bgeq4=\");\n\n  _c = SignUp;\n  SignUp.propTypes = {\n    location: PropTypes.shape({\n      state: PropTypes.string\n    })\n  };\n  SignUp.defaultProps = {\n    location: {\n      state: ''\n    }\n  };\n  module1.exportDefault(SignUp);\n\n  var _c;\n\n  $RefreshReg$(_c, \"SignUp\");\n}.call(this, module);","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA;AACA;AACA;AACA,QAAMA,MAAM,GAAG,QAAkB;AAAA,QAAjB;AAAEC;AAAF,KAAiB;;AAAAC;;AAC/B,UAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBC,QAAQ,CAAC,EAAD,CAAlC;AACA,UAAM,CAACC,iBAAD,EAAoBC,gBAApB,IAAwCF,QAAQ,CAAC,KAAD,CAAtD;AAEA,UAAMG,MAAM,GAAG,IAAIC,YAAJ,CAAiB;AAC9BC,WAAK,EAAEC,MADuB;AAE9BC,cAAQ,EAAED;AAFoB,KAAjB,CAAf;AAIA,UAAME,MAAM,GAAG,IAAIC,mBAAJ,CAAwBN,MAAxB,CAAf;AAEA;;AACA,UAAMO,MAAM,GAAIC,GAAD,IAAS;AACtB,YAAM;AAAEN,aAAF;AAASE;AAAT,UAAsBI,GAA5B;AACAC,cAAQ,CAACC,UAATD,CAAoB;AAAEP,aAAF;AAASS,gBAAQ,EAAET,KAAnB;AAA0BE;AAA1B,OAApBK,EAA2DG,GAAD,IAAS;AACjE,YAAIA,GAAJ,EAAS;AACPhB,kBAAQ,CAACgB,GAAG,CAACC,MAAL,CAARjB;AADF,eAEO;AACLA,kBAAQ,CAAC,EAAD,CAARA;AACAG,0BAAgB,CAAC,IAAD,CAAhBA;AACD;AANH;AAFF;AAYA;;;AACA,UAAM;AAAEe;AAAF,QAAWrB,SAAQ,SAARA,YAAQ,WAARA,oBAAQ,CAAEsB,KAAVtB,KAAmB;AAAEqB,UAAI,EAAE;AAAEE,gBAAQ,EAAE;AAAZ;AAAR,KAApC,CAxB+B,CAyB/B;;AACA,QAAIlB,iBAAJ,EAAuB;AACrB,0BAAO,oBAAC,QAAD;AAAU,YAAIgB;AAAd,QAAP;AACD;;AACD,wBACE,oBAAC,SAAD;AAAW,UAAG,aAAd;AAA4B,iBAAU;AAAtC,oBACE,oBAAC,GAAD;AAAK,iBAAU;AAAf,oBACE,oBAAC,GAAD;AAAK,UAAI;AAAT,oBACE,oBAAC,GAAD;AAAK,iBAAU;AAAf,oBACE,wDADF,CADF,eAIE,oBAAC,QAAD;AAAU,cAAQT,MAAlB;AAA0B,gBAAUY,IAAI,IAAIV,MAAM,CAACU,IAAD;AAAlD,oBACE,oBAAC,IAAD,qBACE,oBAAC,IAAD,CAAM,IAAN,qBACE,oBAAC,SAAD;AAAW,YAAK,OAAhB;AAAwB,mBAAY;AAApC,MADF,eAEE,oBAAC,SAAD;AAAW,YAAK,UAAhB;AAA2B,mBAAY,UAAvC;AAAkD,YAAK;AAAvD,MAFF,eAGE,oBAAC,WAAD,OAHF,eAIE,oBAAC,WAAD,OAJF,CADF,CADF,CAJF,eAcE,oBAAC,KAAD;AAAO,eAAQ;AAAf,yCAEG,GAFH,eAGE,oBAAC,IAAD;AAAM,UAAG;AAAT,cAHF,CAdF,EAmBGtB,KAAK,KAAK,EAAVA,GACC,EADDA,gBAGC,oBAAC,KAAD;AAAO,eAAQ;AAAf,oBACE,oBAAC,KAAD,CAAO,OAAP,0CADF,EAEGA,KAFH,CAtBJ,CADF,CADF,CADF;AA7BF;AAiEA;;;KAjEMH,Q;;OAAAA;AAkENA,QAAM,CAAC0B,SAAP1B,GAAmB;AACjBC,YAAQ,EAAE0B,SAAS,CAACC,KAAVD,CAAgB;AACxBJ,WAAK,EAAEI,SAAS,CAACE;AADO,KAAhBF;AADO,GAAnB3B;AAMAA,QAAM,CAAC8B,YAAP9B,GAAsB;AACpBC,YAAQ,EAAE;AAAEsB,WAAK,EAAE;AAAT;AADU,GAAtBvB;wBAIeA","names":["SignUp","location","_s","error","setError","useState","redirectToReferer","setRedirectToRef","schema","SimpleSchema","email","String","password","bridge","SimpleSchema2Bridge","submit","doc","Accounts","createUser","username","err","reason","from","state","pathname","data","propTypes","PropTypes","shape","string","defaultProps"],"sources":["imports/ui/pages/SignUp.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport { Accounts } from 'meteor/accounts-base';\r\nimport { Alert, Card, Col, Container, Row } from 'react-bootstrap';\r\nimport SimpleSchema from 'simpl-schema';\r\nimport SimpleSchema2Bridge from 'uniforms-bridge-simple-schema-2';\r\nimport { AutoForm, ErrorsField, SubmitField, TextField } from 'uniforms-bootstrap5';\r\n\r\n/**\r\n * SignUp component is similar to signin component, but we create a new user instead.\r\n */\r\nconst SignUp = ({ location }) => {\r\n  const [error, setError] = useState('');\r\n  const [redirectToReferer, setRedirectToRef] = useState(false);\r\n\r\n  const schema = new SimpleSchema({\r\n    email: String,\r\n    password: String,\r\n  });\r\n  const bridge = new SimpleSchema2Bridge(schema);\r\n\r\n  /* Handle SignUp submission. Create user account and a profile entry, then redirect to the home page. */\r\n  const submit = (doc) => {\r\n    const { email, password } = doc;\r\n    Accounts.createUser({ email, username: email, password }, (err) => {\r\n      if (err) {\r\n        setError(err.reason);\r\n      } else {\r\n        setError('');\r\n        setRedirectToRef(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  /* Display the signup form. Redirect to add page after successful registration and login. */\r\n  const { from } = location?.state || { from: { pathname: '/add' } };\r\n  // if correct authentication, redirect to from: page instead of signup screen\r\n  if (redirectToReferer) {\r\n    return <Navigate to={from} />;\r\n  }\r\n  return (\r\n    <Container id=\"signup-page\" className=\"py-3\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col xs={5}>\r\n          <Col className=\"text-center\">\r\n            <h2>Register your account</h2>\r\n          </Col>\r\n          <AutoForm schema={bridge} onSubmit={data => submit(data)}>\r\n            <Card>\r\n              <Card.Body>\r\n                <TextField name=\"email\" placeholder=\"E-mail address\" />\r\n                <TextField name=\"password\" placeholder=\"Password\" type=\"password\" />\r\n                <ErrorsField />\r\n                <SubmitField />\r\n              </Card.Body>\r\n            </Card>\r\n          </AutoForm>\r\n          <Alert variant=\"light\">\r\n            Already have an account? Login\r\n            {' '}\r\n            <Link to=\"/signin\">here</Link>\r\n          </Alert>\r\n          {error === '' ? (\r\n            ''\r\n          ) : (\r\n            <Alert variant=\"danger\">\r\n              <Alert.Heading>Registration was not successful</Alert.Heading>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\n/* Ensure that the React Router location object is available in case we need to redirect. */\r\nSignUp.propTypes = {\r\n  location: PropTypes.shape({\r\n    state: PropTypes.string,\r\n  }),\r\n};\r\n\r\nSignUp.defaultProps = {\r\n  location: { state: '' },\r\n};\r\n\r\nexport default SignUp;\r\n"]},"sourceType":"module","externalDependencies":{},"hash":"3fb30fb329e85bb41bc92f9ad48bc714884dd753"}
