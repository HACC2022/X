{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app\\imports\\ui\\pages\\EditStuff.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/ui/pages/EditStuff.jsx","filename":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app\\imports\\ui\\pages\\EditStuff.jsx","inputSourceMap":{"version":3,"sources":["imports/ui/pages/EditStuff.jsx"],"names":["React","swal","Card","Col","Container","Row","AutoForm","ErrorsField","HiddenField","NumField","SelectField","SubmitField","TextField","Meteor","useTracker","SimpleSchema2Bridge","useParams","Stuffs","LoadingSpinner","bridge","schema","EditStuff","_id","doc","ready","subscription","subscribe","userPublicationName","rdy","document","collection","findOne","submit","data","name","quantity","condition","update","$set","error","message"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport swal from 'sweetalert';\r\nimport { Card, Col, Container, Row } from 'react-bootstrap';\r\nimport { AutoForm, ErrorsField, HiddenField, NumField, SelectField, SubmitField, TextField } from 'uniforms-bootstrap5';\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { useTracker } from 'meteor/react-meteor-data';\r\nimport SimpleSchema2Bridge from 'uniforms-bridge-simple-schema-2';\r\nimport { useParams } from 'react-router';\r\nimport { Stuffs } from '../../api/stuff/Stuff';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\nconst bridge = new SimpleSchema2Bridge(Stuffs.schema);\r\n\r\n/* Renders the EditStuff page for editing a single document. */\r\nconst EditStuff = () => {\r\n  // Get the documentID from the URL field. See imports/ui/layouts/App.jsx for the route containing :_id.\r\n  const { _id } = useParams();\r\n  // console.log('EditStuff', _id);\r\n  // useTracker connects Meteor data to React components. https://guide.meteor.com/react.html#using-withTracker\r\n  const { doc, ready } = useTracker(() => {\r\n    // Get access to Stuff documents.\r\n    const subscription = Meteor.subscribe(Stuffs.userPublicationName);\r\n    // Determine if the subscription is ready\r\n    const rdy = subscription.ready();\r\n    // Get the document\r\n    const document = Stuffs.collection.findOne(_id);\r\n    return {\r\n      doc: document,\r\n      ready: rdy,\r\n    };\r\n  }, [_id]);\r\n  // console.log('EditStuff', doc, ready);\r\n  // On successful submit, insert the data.\r\n  const submit = (data) => {\r\n    const { name, quantity, condition } = data;\r\n    Stuffs.collection.update(_id, { $set: { name, quantity, condition } }, (error) => (error ?\r\n      swal('Error', error.message, 'error') :\r\n      swal('Success', 'Item updated successfully', 'success')));\r\n  };\r\n\r\n  return ready ? (\r\n    <Container className=\"py-3\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col xs={5}>\r\n          <Col className=\"text-center\"><h2>Edit Stuff</h2></Col>\r\n          <AutoForm schema={bridge} onSubmit={data => submit(data)} model={doc}>\r\n            <Card>\r\n              <Card.Body>\r\n                <TextField name=\"name\" />\r\n                <NumField name=\"quantity\" decimal={null} />\r\n                <SelectField name=\"condition\" />\r\n                <SubmitField value=\"Submit\" />\r\n                <ErrorsField />\r\n                <HiddenField name=\"owner\" />\r\n              </Card.Body>\r\n            </Card>\r\n          </AutoForm>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  ) : <LoadingSpinner />;\r\n};\r\n\r\nexport default EditStuff;\r\n"]},"targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app","root":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"C:\\Users\\zianz\\OneDrive\\Documents\\GitHub\\X\\app\\imports\\ui\\pages\\EditStuff.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/pages/EditStuff.jsx"}},"code":"!function (module1) {\n  let React;\n  module1.link(\"react\", {\n    default(v) {\n      React = v;\n    }\n\n  }, 0);\n  let swal;\n  module1.link(\"sweetalert\", {\n    default(v) {\n      swal = v;\n    }\n\n  }, 1);\n  let Card, Col, Container, Row;\n  module1.link(\"react-bootstrap\", {\n    Card(v) {\n      Card = v;\n    },\n\n    Col(v) {\n      Col = v;\n    },\n\n    Container(v) {\n      Container = v;\n    },\n\n    Row(v) {\n      Row = v;\n    }\n\n  }, 2);\n  let AutoForm, ErrorsField, HiddenField, NumField, SelectField, SubmitField, TextField;\n  module1.link(\"uniforms-bootstrap5\", {\n    AutoForm(v) {\n      AutoForm = v;\n    },\n\n    ErrorsField(v) {\n      ErrorsField = v;\n    },\n\n    HiddenField(v) {\n      HiddenField = v;\n    },\n\n    NumField(v) {\n      NumField = v;\n    },\n\n    SelectField(v) {\n      SelectField = v;\n    },\n\n    SubmitField(v) {\n      SubmitField = v;\n    },\n\n    TextField(v) {\n      TextField = v;\n    }\n\n  }, 3);\n  let Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor(v) {\n      Meteor = v;\n    }\n\n  }, 4);\n  let useTracker;\n  module1.link(\"meteor/react-meteor-data\", {\n    useTracker(v) {\n      useTracker = v;\n    }\n\n  }, 5);\n  let SimpleSchema2Bridge;\n  module1.link(\"uniforms-bridge-simple-schema-2\", {\n    default(v) {\n      SimpleSchema2Bridge = v;\n    }\n\n  }, 6);\n  let useParams;\n  module1.link(\"react-router\", {\n    useParams(v) {\n      useParams = v;\n    }\n\n  }, 7);\n  let Stuffs;\n  module1.link(\"../../api/stuff/Stuff\", {\n    Stuffs(v) {\n      Stuffs = v;\n    }\n\n  }, 8);\n  let LoadingSpinner;\n  module1.link(\"../components/LoadingSpinner\", {\n    default(v) {\n      LoadingSpinner = v;\n    }\n\n  }, 9);\n\n  ___INIT_METEOR_FAST_REFRESH(module);\n\n  var _s = $RefreshSig$();\n\n  const bridge = new SimpleSchema2Bridge(Stuffs.schema);\n  /* Renders the EditStuff page for editing a single document. */\n\n  const EditStuff = () => {\n    _s(); // Get the documentID from the URL field. See imports/ui/layouts/App.jsx for the route containing :_id.\n\n\n    const {\n      _id\n    } = useParams(); // console.log('EditStuff', _id);\n    // useTracker connects Meteor data to React components. https://guide.meteor.com/react.html#using-withTracker\n\n    const {\n      doc,\n      ready\n    } = useTracker(() => {\n      // Get access to Stuff documents.\n      const subscription = Meteor.subscribe(Stuffs.userPublicationName); // Determine if the subscription is ready\n\n      const rdy = subscription.ready(); // Get the document\n\n      const document = Stuffs.collection.findOne(_id);\n      return {\n        doc: document,\n        ready: rdy\n      };\n    }, [_id]); // console.log('EditStuff', doc, ready);\n    // On successful submit, insert the data.\n\n    const submit = data => {\n      const {\n        name,\n        quantity,\n        condition\n      } = data;\n      Stuffs.collection.update(_id, {\n        $set: {\n          name,\n          quantity,\n          condition\n        }\n      }, error => error ? swal('Error', error.message, 'error') : swal('Success', 'Item updated successfully', 'success'));\n    };\n\n    return ready ? /*#__PURE__*/React.createElement(Container, {\n      className: \"py-3\"\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\"\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 5\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"text-center\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Edit Stuff\")), /*#__PURE__*/React.createElement(AutoForm, {\n      schema: bridge,\n      onSubmit: data => submit(data),\n      model: doc\n    }, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Card.Body, null, /*#__PURE__*/React.createElement(TextField, {\n      name: \"name\"\n    }), /*#__PURE__*/React.createElement(NumField, {\n      name: \"quantity\",\n      decimal: null\n    }), /*#__PURE__*/React.createElement(SelectField, {\n      name: \"condition\"\n    }), /*#__PURE__*/React.createElement(SubmitField, {\n      value: \"Submit\"\n    }), /*#__PURE__*/React.createElement(ErrorsField, null), /*#__PURE__*/React.createElement(HiddenField, {\n      name: \"owner\"\n    }))))))) : /*#__PURE__*/React.createElement(LoadingSpinner, null);\n  };\n\n  _s(EditStuff, \"Rw5OWIrhVrsh6pHEWaV9PjClcSg=\", false, function () {\n    return [useParams, useTracker];\n  });\n\n  _c = EditStuff;\n  module1.exportDefault(EditStuff);\n\n  var _c;\n\n  $RefreshReg$(_c, \"EditStuff\");\n}.call(this, module);","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWA,QAAMA,MAAM,GAAG,IAAIC,mBAAJ,CAAwBC,MAAM,CAACC,MAA/B,CAAf;AAEA;;AACA,QAAMC,SAAS,GAAG,MAAM;AAAAC,UACtB;;;AACA,UAAM;AAAEC;AAAF,QAAUC,SAAS,EAAzB,CAFsB,CAGtB;AACA;;AACA,UAAM;AAAEC,SAAF;AAAOC;AAAP,QAAiBC,UAAU,CAAC,MAAM;AACtC;AACA,YAAMC,YAAY,GAAGC,MAAM,CAACC,SAAPD,CAAiBV,MAAM,CAACY,mBAAxBF,CAArB,CAFsC,CAGtC;;AACA,YAAMG,GAAG,GAAGJ,YAAY,CAACF,KAAbE,EAAZ,CAJsC,CAKtC;;AACA,YAAMK,QAAQ,GAAGd,MAAM,CAACe,UAAPf,CAAkBgB,OAAlBhB,CAA0BI,GAA1BJ,CAAjB;AACA,aAAO;AACLM,WAAG,EAAEQ,QADA;AAELP,aAAK,EAAEM;AAFF,OAAP;AAP+B,OAW9B,CAACT,GAAD,CAX8B,CAAjC,CALsB,CAiBtB;AACA;;AACA,UAAMa,MAAM,GAAIC,IAAD,IAAU;AACvB,YAAM;AAAEC,YAAF;AAAQC,gBAAR;AAAkBC;AAAlB,UAAgCH,IAAtC;AACAlB,YAAM,CAACe,UAAPf,CAAkBsB,MAAlBtB,CAAyBI,GAAzBJ,EAA8B;AAAEuB,YAAI,EAAE;AAAEJ,cAAF;AAAQC,kBAAR;AAAkBC;AAAlB;AAAR,OAA9BrB,EAAwEwB,KAAD,IAAYA,KAAK,GACtFC,IAAI,CAAC,OAAD,EAAUD,KAAK,CAACE,OAAhB,EAAyB,OAAzB,CADkF,GAEtFD,IAAI,CAAC,SAAD,EAAY,2BAAZ,EAAyC,SAAzC,CAFNzB;AAFF;;AAOA,WAAOO,KAAK,gBACV,oBAAC,SAAD;AAAW,iBAAU;AAArB,oBACE,oBAAC,GAAD;AAAK,iBAAU;AAAf,oBACE,oBAAC,GAAD;AAAK,UAAI;AAAT,oBACE,oBAAC,GAAD;AAAK,iBAAU;AAAf,oBAA6B,6CAA7B,CADF,eAEE,oBAAC,QAAD;AAAU,cAAQT,MAAlB;AAA0B,gBAAUoB,IAAI,IAAID,MAAM,CAACC,IAAD,CAAlD;AAA0D,aAAOZ;AAAjE,oBACE,oBAAC,IAAD,qBACE,oBAAC,IAAD,CAAM,IAAN,qBACE,oBAAC,SAAD;AAAW,YAAK;AAAhB,MADF,eAEE,oBAAC,QAAD;AAAU,YAAK,UAAf;AAA0B,eAAS;AAAnC,MAFF,eAGE,oBAAC,WAAD;AAAa,YAAK;AAAlB,MAHF,eAIE,oBAAC,WAAD;AAAa,aAAM;AAAnB,MAJF,eAKE,oBAAC,WAAD,OALF,eAME,oBAAC,WAAD;AAAa,YAAK;AAAlB,MANF,CADF,CADF,CAFF,CADF,CADF,CADU,gBAoBR,oBAAC,cAAD,OApBJ;AA1BF;;KAAMJ,W;YAEYG,WAGOG;;;OALnBN;wBAiDSA","names":["bridge","SimpleSchema2Bridge","Stuffs","schema","EditStuff","_s","_id","useParams","doc","ready","useTracker","subscription","Meteor","subscribe","userPublicationName","rdy","document","collection","findOne","submit","data","name","quantity","condition","update","$set","error","swal","message"],"sources":["imports/ui/pages/EditStuff.jsx"],"sourcesContent":["import React from 'react';\r\nimport swal from 'sweetalert';\r\nimport { Card, Col, Container, Row } from 'react-bootstrap';\r\nimport { AutoForm, ErrorsField, HiddenField, NumField, SelectField, SubmitField, TextField } from 'uniforms-bootstrap5';\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { useTracker } from 'meteor/react-meteor-data';\r\nimport SimpleSchema2Bridge from 'uniforms-bridge-simple-schema-2';\r\nimport { useParams } from 'react-router';\r\nimport { Stuffs } from '../../api/stuff/Stuff';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\nconst bridge = new SimpleSchema2Bridge(Stuffs.schema);\r\n\r\n/* Renders the EditStuff page for editing a single document. */\r\nconst EditStuff = () => {\r\n  // Get the documentID from the URL field. See imports/ui/layouts/App.jsx for the route containing :_id.\r\n  const { _id } = useParams();\r\n  // console.log('EditStuff', _id);\r\n  // useTracker connects Meteor data to React components. https://guide.meteor.com/react.html#using-withTracker\r\n  const { doc, ready } = useTracker(() => {\r\n    // Get access to Stuff documents.\r\n    const subscription = Meteor.subscribe(Stuffs.userPublicationName);\r\n    // Determine if the subscription is ready\r\n    const rdy = subscription.ready();\r\n    // Get the document\r\n    const document = Stuffs.collection.findOne(_id);\r\n    return {\r\n      doc: document,\r\n      ready: rdy,\r\n    };\r\n  }, [_id]);\r\n  // console.log('EditStuff', doc, ready);\r\n  // On successful submit, insert the data.\r\n  const submit = (data) => {\r\n    const { name, quantity, condition } = data;\r\n    Stuffs.collection.update(_id, { $set: { name, quantity, condition } }, (error) => (error ?\r\n      swal('Error', error.message, 'error') :\r\n      swal('Success', 'Item updated successfully', 'success')));\r\n  };\r\n\r\n  return ready ? (\r\n    <Container className=\"py-3\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col xs={5}>\r\n          <Col className=\"text-center\"><h2>Edit Stuff</h2></Col>\r\n          <AutoForm schema={bridge} onSubmit={data => submit(data)} model={doc}>\r\n            <Card>\r\n              <Card.Body>\r\n                <TextField name=\"name\" />\r\n                <NumField name=\"quantity\" decimal={null} />\r\n                <SelectField name=\"condition\" />\r\n                <SubmitField value=\"Submit\" />\r\n                <ErrorsField />\r\n                <HiddenField name=\"owner\" />\r\n              </Card.Body>\r\n            </Card>\r\n          </AutoForm>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  ) : <LoadingSpinner />;\r\n};\r\n\r\nexport default EditStuff;\r\n"]},"sourceType":"module","externalDependencies":{},"hash":"b3b3a305ef4d0b939a198c698ce035e2d02ac8b1"}
